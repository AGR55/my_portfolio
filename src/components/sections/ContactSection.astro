---
import { Icon } from "astro-icon/components";
---

<section id="contact" class="section-padding relative overflow-hidden">
  <!-- Imagen de fondo posicionada correctamente -->
  <div class="absolute inset-0 w-full h-full -z-20 blur-2xl">
    <img
      src="/illustrations/bitmap.svg"
      alt="Background Pattern"
      class="w-full h-full object-cover"
    />
  </div>

  <!-- Decorative background elements -->
  <div
    class="absolute top-1/4 right-0 translate-x-1/3 w-[30rem] h-[30rem] rounded-full bg-primary-200/40 dark:bg-primary-900/20 blur-3xl opacity-50 dark:opacity-30 -z-10"
  >
  </div>
  <div
    class="absolute bottom-0 left-1/4 w-[25rem] h-[25rem] rounded-full bg-primary-300/30 dark:bg-primary-800/20 blur-3xl opacity-40 dark:opacity-20 -z-10"
  >
  </div>

  <div class="container-custom relative z-10">
    <div class="w-full mx-auto text-center mb-12 animate-on-scroll">
      <div class="flex items-center gap-3 mb-4">
        <Icon
          name="lucide:mail"
          class="h-8 w-8 text-primary-600 dark:text-primary-400"
        />
        <h2 class="heading-lg text-neutral-900 dark:text-white">Contact</h2>
      </div>
    </div>

    <div class="w-full mx-auto animate-on-scroll">
      <div
        class="bg-white/50 dark:bg-neutral-800/50 backdrop-blur-xl rounded-2xl shadow-xl p-8 border border-neutral-100 dark:border-neutral-700/50"
      >
        <form id="contact-form" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="form-group">
              <label
                for="name"
                class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2"
              >
                Name
              </label>
              <div class="relative">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <Icon name="lucide:user" class="h-5 w-5 text-neutral-400" />
                </div>
                <input
                  type="text"
                  id="name"
                  name="name"
                  required
                  class="w-full pl-10 pr-4 py-3 border border-neutral-300 dark:border-neutral-700/50 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-neutral-800 dark:text-white transition-colors"
                  placeholder="Your name"
                />
              </div>
            </div>

            <div class="form-group">
              <label
                for="email"
                class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2"
              >
                Email
              </label>
              <div class="relative">
                <div
                  class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
                >
                  <Icon name="lucide:mail" class="h-5 w-5 text-neutral-400" />
                </div>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="w-full pl-10 pr-4 py-3 border border-neutral-300 dark:border-neutral-700/50 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-neutral-800 dark:text-white transition-colors"
                  placeholder="your.email@example.com"
                />
              </div>
            </div>
          </div>

          <div class="form-group">
            <label
              for="subject"
              class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2"
            >
              Subject
            </label>
            <div class="relative">
              <div
                class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"
              >
                <Icon
                  name="lucide:message-square"
                  class="h-5 w-5 text-neutral-400"
                />
              </div>
              <input
                type="text"
                id="subject"
                name="subject"
                required
                class="w-full pl-10 pr-4 py-3 border border-neutral-300 dark:border-neutral-700/50 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-neutral-800 dark:text-white transition-colors"
                placeholder="What is this regarding?"
              />
            </div>
          </div>

          <div class="form-group">
            <label
              for="message"
              class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2"
            >
              Message
            </label>
            <div class="relative">
              <div
                class="absolute top-3 left-3 flex items-start pointer-events-none"
              >
                <Icon
                  name="lucide:file-text"
                  class="h-5 w-5 text-neutral-400"
                />
              </div>
              <textarea
                id="message"
                name="message"
                rows="5"
                required
                class="w-full pl-10 pr-4 py-3 border border-neutral-300 dark:border-neutral-700/50 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 dark:bg-neutral-800 dark:text-white transition-colors"
                placeholder="Your message here..."></textarea>
            </div>
          </div>

          <button
            type="submit"
            class="w-full inline-flex justify-center items-center px-6 py-3 rounded-lg bg-blue-500 hover:bg-blue-600 text-white font-medium transition-colors duration-300 shadow-md hover:shadow-lg"
          >
            <Icon name="lucide:send" class="h-5 w-5 mr-2" />
            Send Message
          </button>

          <div id="form-status" class="hidden text-center p-4 rounded-lg"></div>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  // Handle contact form submission
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("contact-form");
    const formStatus = document.getElementById("form-status");

    if (form) {
      form.addEventListener("submit", (e) => {
        e.preventDefault();

        formStatus.classList.remove("hidden", "bg-red-100", "text-red-800");
        formStatus.classList.add("bg-green-100", "text-green-800");
        formStatus.textContent = "Your message has been sent successfully!";

        // Reset form
        form.reset();

        // Hide success message after 5 seconds
        setTimeout(() => {
          formStatus.classList.add("hidden");
        }, 5000);
      });
    }
  });
</script>
