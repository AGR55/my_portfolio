---
import Layout from "../layouts/Layout.astro";
import HeroSection from "../components/sections/HeroSection.astro";
import AboutSection from "../components/sections/AboutSection.astro";
import ProjectsSection from "../components/sections/ProjectsSection.astro";
import ContactSection from "../components/sections/ContactSection.astro";
import { getCollection } from "astro:content";

// Obtener proyectos destacados para mostrar en la página principal
const allProjects = await getCollection("projects");
const featuredProjects = allProjects
  .filter((project) => project.data.featured)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 6);

const title = "Adriano González | Full Stack Developer";
const description = "Portfolio of Adriano González, a full stack developer specialized in creating beautiful, high-performance web applications.";
---

<Layout title={title} description={description}>
  <HeroSection />
  <AboutSection />
  <ProjectsSection projects={featuredProjects} />
  <ContactSection />
</Layout>